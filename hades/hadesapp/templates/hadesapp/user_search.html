{%extends 'hadesapp/base.html'%}
{%load static%}
{% load pagination_tags %}
{%block content%}
<style>
    .avatar {
  vertical-align: middle;
  width: 30px;
  height: 30px;
  border-radius: 50%;
}

</style>

<div class="row">
    <div class="col">
        <div class="card card-body">
            <form method="get">
                {{my_filter.form.as_p}}
                <button class="btn btn-success" type="submit">
                    search
                </button>
            </form>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md">
        <div class="card card-body">
            {% if my_filter.is_bound %}
            {%for user in users_pages%}
            <table class="table table-sm">
                <thead>
                <tr>
                    <th scope="col">Username</th>
                    <th scope="col">First Name</th>
                    <th scope="col">Last Name</th>
                    <th scope="col">Email</th>
                    <th scope="col">Full Name</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>{{user.username}}</td>
                    <td>{{user.first_name}}</td>
                    <td>{{user.last_name}}</td>
                    <td>{{user.email}}</td>
                    <td>
                        <a class="nav-link" href="{%url 'user_profile' user.username%}">
                            <img src="{%static 'media'%}/{{user.profile_pic}}" class="avatar" alt="user_pic">
                            {{user.first_name}} {{user.last_name}}</a>
                    </td>
                </tr>
                </tbody>
            </table>
            {%endfor%}
            {%endif%}
        </div>
    </div>

</div>
<!--pagination-->

    <br/>
<nav aria-label="Page navigation example">
    <ul class="pagination justify-content-center nav nav-pills">
        {% if users_pages.has_previous %}
        <li class="page-item">
            <a class="page-link" href="?{% url_replace request 'page' 1%}">
               &lArr; First
            </a>
        </li>
        <li class="page-item">
            <a class="page-link" href="?{% url_replace request 'page' users_pages.previous_page_number%}">
                Previous
            </a>
        </li>
        {% else %}
        <li class="page-item disabled">
            <a class="page-link">Previous</a>
        </li>
        {% endif %}

        {% for number in users_pages.paginator.page_range %}
        <li class="page-item"><a class="page-link" href="?{% url_replace request 'page' number%}">
            {{number}}
        </a>
        </li>
        {% endfor %}
         {% if users_pages.has_next %}
        <li class="page-item">
            <a class="page-link" href="?{% url_replace request 'page' users_pages.next_page_number%}">Next</a>
        </li>
        <li class="page-item">
            <a class="page-link" href="?{% url_replace request 'page' users_pages.paginator.num_pages%}">Last &rArr;</a>
        </li>
        {% else %}
        <li class="page-item disabled">
            <a class="page-link" href="#">Next</a>
        </li>
        {% endif %}
    </ul>
</nav>


{%endblock%}